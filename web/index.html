<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MNIST Digit Classifier Â· Demo</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><rect width='64' height='64' rx='12' fill='%23000'/><text x='50%' y='54%' dominant-baseline='middle' text-anchor='middle' font-size='34' fill='%23fff' font-family='Arial,Helvetica,sans-serif'>AI</text></svg>">
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="Draw a digit (0â€“9) and the model predicts it in real time." />
</head>
<body>
  <header class="toolbar" role="banner">
    <div class="left">
      <div class="brand">MNIST <span class="dot">â€¢</span> Demo</div>
    </div>
    <div class="right">
      <button id="themeToggle" class="icon-btn" title="Toggle theme" aria-label="Toggle theme">ðŸŒ“</button>
      <a class="icon-btn" href="https://github.com/AlexLeetDev/mnist-digit-classifier" target="_blank" rel="noopener" title="View source" aria-label="View source">ðŸ’»</a>
    </div>
  </header>

  <main class="wrap" role="main">
    <section class="intro">
      <h1>Handwritten Digit Classifier</h1>
      <p>Draw a digit (0â€“9) or upload an image. The model (TensorFlow) runs on the server (FastAPI) and returns the prediction.</p>
    </section>

    <section class="board">
      <div class="canvas-card">
        <div class="canvas-toolbar" role="group" aria-label="Canvas controls">
          <button id="clearBtn" class="btn secondary" title="Clear (C)">Clear</button>
          <button id="undoBtn" class="btn secondary" title="Undo (Z)">Undo</button>
          <div class="divider" role="separator" aria-hidden="true"></div>
          <label class="btn file">
            <input id="fileInput" type="file" accept="image/*" />
            Upload
          </label>
          <button id="predictBtn" class="btn primary">Predict</button>
          <div class="spacer"></div>
          <label class="range">
            Brush <input id="brush" type="range" min="8" max="32" value="18" />
          </label>
        </div>

        <div class="canvas-wrap">
          <canvas id="canvas" width="280" height="280" aria-label="Drawing canvas"></canvas>
          <div id="loading" class="loading" aria-live="polite" aria-busy="false" hidden>
            <div class="spinner" aria-hidden="true"></div>
            Predicting
          </div>
        </div>

        <div class="status" id="status" aria-live="polite">
          Ready. Draw a digit or upload an image, then click <strong>Predict</strong>.
        </div>
      </div>

      <div class="result-card">
        <h2 class="result-title">Prediction</h2>
        <div id="pred" class="pred">â€“</div>
        <div id="probs" class="probs" role="list" aria-label="Class probabilities (0â€“9)"></div>
        <details class="tech">
          <summary>Details</summary>
          <div class="kv">
            <div>API</div><div><code id="apiUrl">http://127.0.0.1:8000/predict</code></div>
            <div>Canvas</div><div>White ink on black background</div>
            <div>Model</div><div>TensorFlow CNN trained on MNIST</div>
          </div>
        </details>
      </div>
    </section>
  </main>

  <footer class="footer" role="contentinfo">
    <small>Â© <span id="year"></span> Alex Leet Â· Built with TensorFlow + FastAPI</small>
  </footer>

  <script>
    window.API_URL="https://leet-mnist-api.onrender.com/predict";
  </script>
  <script src="app.js"></script>
</body> 
</html>